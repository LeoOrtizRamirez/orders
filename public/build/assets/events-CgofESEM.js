import{d as ue,r as v,c as ce,o as ve,k as a,l as n,m as e,x as d,f as g,t as l,u as c,y as $,n as I,C as Z,A as k,a2 as B,F as N,D as A,q as _,a3 as X,I as me,H as ge}from"./vendor-BuRU_kNN.js";import{S as ee}from"./sweetalert2.esm.all-5zhdP7Ax.js";import{d as fe,u as he,b as _e,c as L}from"./main-Dt_U_J2X.js";import{Y as te,h as F,_ as se,G as oe,S as le}from"./transition-DmF2Pzyd.js";import"./quill-De1S0mUZ.js";import"./hidden-CJVN9Aon.js";import"./keyboard-CA3kR_KZ.js";import"./open-closed-BTc9WkmO.js";const ye={class:"flex items-center justify-between flex-wrap gap-4"},be={class:"text-xl"},we={class:"flex sm:flex-row flex-col sm:items-center sm:gap-3 gap-4 w-full sm:w-auto"},ke={class:"flex gap-3"},Ce={class:"relative"},xe=["placeholder"],$e={key:0,class:"mt-4 alert alert-danger alert-dismissible fade show",role:"alert"},Le={key:1,class:"mt-4 alert alert-success alert-dismissible fade show",role:"alert"},Me={class:"mt-5 panel p-0 border-0 overflow-hidden"},Be={key:0,class:"table-responsive"},je={class:"table-striped table-hover"},Ee={class:"!text-center"},Se={key:0},Ve={class:"flex items-center w-max"},Ue={class:"font-semibold"},Te={class:"flex gap-4 items-center justify-center"},De=["onClick"],Ie=["onClick"],Fe={key:2,class:"text-xs text-gray-400"},Re={key:2,class:"grid 2xl:grid-cols-4 xl:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-6 w-full"},qe={class:"p-6 pb-0"},ze={class:"flex items-center justify-between mb-4"},Oe={class:"text-xs text-gray-500"},Ze={class:"text-xl font-semibold mb-2"},Ne={class:"text-white-dark mb-4"},Ae={class:"px-6 pb-24"},He={class:"grid grid-cols-1 gap-3 ltr:text-left rtl:text-right"},Ge={class:"flex items-center"},Ke={class:"text-sm"},Pe={class:"flex items-center"},Ye={class:"text-sm"},Je={class:"mt-6 flex gap-4 absolute bottom-0 w-full ltr:left-0 rtl:right-0 p-6"},Qe=["onClick"],We=["onClick"],Xe={key:2,class:"w-full text-center text-xs text-gray-400"},et={class:"fixed inset-0 overflow-y-auto"},tt={class:"flex min-h-full items-center justify-center px-4 py-8"},st={class:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]"},ot={class:"p-5"},lt={class:"mb-5"},at={for:"title"},nt=["placeholder"],rt={key:0,class:"text-danger mt-1"},it={class:"mb-5"},dt={for:"description"},pt=["placeholder"],ut={key:0,class:"text-danger mt-1"},ct={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5"},vt={for:"start"},mt={key:0,class:"text-danger mt-1"},gt={for:"end"},ft={key:0,class:"text-danger mt-1"},ht={class:"mb-5"},_t={for:"type"},yt={value:"primary"},bt={value:"info"},wt={value:"success"},kt={value:"danger"},Ct={key:0,class:"text-danger mt-1"},xt={class:"flex justify-end items-center mt-8"},$t=["disabled"],Lt={key:0,class:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4 ltr:mr-2 rtl:ml-2 inline-block"},Mt={class:"fixed inset-0 overflow-y-auto"},Bt={class:"flex min-h-full items-center justify-center px-4 py-8"},jt={class:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]"},Et={class:"p-5"},St={class:"mb-5"},Vt={for:"file"},Ut={class:"text-xs text-gray-500 mt-1"},Tt={key:0,class:"text-danger mt-1"},Dt={class:"mb-5"},It={class:"flex items-center"},Ft={class:"ml-2"},Rt={class:"text-xs text-gray-500 mt-1"},qt={class:"mb-5 p-4 bg-gray-50 dark:bg-gray-800 rounded-md"},zt={class:"font-semibold mb-2"},Ot={class:"text-sm text-gray-600 dark:text-gray-300 mb-3"},Zt={class:"flex gap-2"},Nt={key:0,class:"mb-5 p-3 bg-gray-100 dark:bg-gray-800 rounded-md"},At={class:"flex items-center justify-between"},Ht={class:"flex items-center"},Gt={class:"font-medium"},Kt={class:"text-xs text-gray-500"},Pt={class:"flex justify-end items-center mt-8"},Yt=["disabled"],Jt={key:0,class:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4 ltr:mr-2 rtl:ml-2 inline-block"},ns=ue({__name:"events",setup(Qt){const{t:r}=fe();he({title:r("events_page.events_management")});const y=_e(),C=v("list"),j=v(!1),R=v(!1),E=v(!1),S=v(!1),V=v(!1),m=v(""),M=v(""),p=v({}),U=v(""),q=v({id:null,title:"",description:"",start:"",end:"",type:"primary"}),b=v({file:null,overwrite:!1}),u=v({...q.value}),w=v([]),H=ce(()=>{if(!U.value)return w.value;const t=U.value.toLowerCase();return w.value.filter(s=>s.title.toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t)||s.user&&s.user.name.toLowerCase().includes(t))});ve(()=>{G()});const G=async()=>{E.value=!0,m.value="";try{const t=await L.get("/api/events");w.value=t.data.data}catch(t){console.error("Error fetching events:",t),m.value=r("events_page.error_loading"),f(r("events_page.error_loading"),"error")}finally{E.value=!1}},ae=()=>{},z=(t=null)=>{p.value={},t?u.value={id:t.id,title:t.title,description:t.description||"",start:Q(t.start),end:Q(t.end),type:t.type}:u.value={...q.value,start:new Date().toISOString().slice(0,16),end:new Date(Date.now()+60*60*1e3).toISOString().slice(0,16)},j.value=!0},ne=async()=>{S.value=!0,p.value={},m.value="",M.value="";try{if(u.value.id){const{data:t}=await L.put(`/api/events/${u.value.id}`,u.value),s=w.value.findIndex(o=>o.id===u.value.id);s!==-1&&w.value.splice(s,1,t),f(r("events_page.event_updated"))}else{const{data:t}=await L.post("/api/events",u.value);w.value.unshift(t),f(r("events_page.event_created"))}j.value=!1}catch(t){t.response&&t.response.status===422?(p.value=t.response.data.errors,m.value=r("events_page.validation_errors")):(console.error("Error saving event:",t),m.value=r("events_page.error_saving"),f(r("events_page.error_saving"),"error"))}finally{S.value=!1}},K=async t=>{var o,i;if((await ee.fire({title:r("events_page.confirm_delete_title"),text:r("events_page.confirm_delete_text"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r("events_page.yes_delete"),cancelButtonText:r("events_page.cancel")})).isConfirmed)try{await L.delete(`/api/events/${t.id}`),w.value=w.value.filter(h=>h.id!==t.id),f(r("events_page.event_deleted"))}catch(h){console.error("Error deleting event:",h);let W=r("events_page.error_deleting");(i=(o=h.response)==null?void 0:o.data)!=null&&i.error&&(W=h.response.data.error),f(W,"error")}},re=t=>{b.value.file=t.target.files[0]},ie=async()=>{var s,o;if(!b.value.file){f(r("events_page.no_file_selected"),"error");return}V.value=!0,p.value={},m.value="";const t=new FormData;t.append("file",b.value.file),t.append("overwrite",b.value.overwrite.toString());try{const i=await L.post("/api/events/import",t,{headers:{"Content-Type":"multipart/form-data"}});i.data.success?(f(r("events_page.import_success",{imported:i.data.imported,skipped:i.data.skipped})),D(),G()):(m.value=r("events_page.import_failed"),i.data.errors&&(p.value={file:i.data.errors}))}catch(i){console.error("Error importing events:",i),(o=(s=i.response)==null?void 0:s.data)!=null&&o.errors?p.value={file:i.response.data.errors}:m.value=r("events_page.import_error"),f(r("events_page.import_error"),"error")}finally{V.value=!1}},P=async(t="xlsx")=>{try{if(t==="csv"){const s=`titulo,inicio,fin,descripcion,tipo
Reunión de equipo,2025-09-15 09:00:00,2025-09-15 10:30:00,Reunión semanal del equipo de desarrollo,primary
Viaje de negocios,2025-09-20 08:00:00,2025-09-22 18:00:00,Viaje a conferencia anual,info
Cita médica,2025-09-25 11:00:00,2025-09-25 12:00:00,Control médico anual,success
Entrega de proyecto,2025-09-30 17:00:00,2025-09-30 18:00:00,Entrega final del proyecto,danger`,o=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),h=document.createElement("a");h.href=i,h.setAttribute("download","plantilla_importacion_eventos.csv"),document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(i)}else{const s=await L.get("/api/events/template",{responseType:"blob"}),o=window.URL.createObjectURL(new Blob([s.data])),i=document.createElement("a");i.href=o,i.setAttribute("download","plantilla_importacion_eventos.xlsx"),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(o)}f(r("events_page.template_downloaded"))}catch(s){console.error("Error downloading template:",s),f(r("events_page.template_download_error"),"error")}},x=t=>{var s,o;return((s=y.user)==null?void 0:s.role)==="admin"||t.user_id===((o=y.user)==null?void 0:o.id)},Y=t=>({primary:"bg-primary text-white",info:"bg-info text-white",success:"bg-success text-white",danger:"bg-danger text-white"})[t]||"bg-secondary text-white",J=t=>({primary:r("events_page.type_primary"),info:r("events_page.type_info"),success:r("events_page.type_success"),danger:r("events_page.type_danger")})[t]||t,T=t=>new Date(t).toLocaleString("es-ES"),Q=t=>new Date(t).toISOString().slice(0,16),de=()=>{b.value.file=null;const t=document.getElementById("file");t&&(t.value="")},O=()=>{j.value=!1,u.value={...q.value},p.value={}},D=()=>{R.value=!1,b.value={file:null,overwrite:!1},p.value={}},pe=()=>{R.value=!0},f=(t="",s="success")=>{s==="success"?M.value=t:m.value=t,ee.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:s,title:t,padding:"10px 20px"})};return(t,s)=>(n(),a("div",null,[e("div",ye,[e("h2",be,l(t.$t("events_page.events")),1),e("div",we,[e("div",ke,[e("div",null,[c(y).can("create events")?(n(),a("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:pe},[s[14]||(s[14]=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 ltr:mr-2 rtl:ml-2"},[e("path",{d:"M12.5535 2.49392C12.4114 2.33852 12.2106 2.25 12 2.25C11.7894 2.25 11.5886 2.33852 11.4465 2.49392L7.44648 6.86892C7.16698 7.17462 7.18822 7.64902 7.49392 7.92852C7.79963 8.20802 8.27402 8.18678 8.55352 7.88108L11.25 4.9318V14C11.25 14.4142 11.5858 14.75 12 14.75C12.4142 14.75 12.75 14.4142 12.75 14V4.9318L15.4465 7.88108C15.726 8.18678 16.2004 8.20802 16.5061 7.92852C16.8118 7.64902 16.833 7.17462 16.5535 6.86892L12.5535 2.49392Z",fill:"currentColor"}),e("path",{d:"M3.75 15C3.75 14.5858 3.41422 14.25 3 14.25C2.58578 14.25 2.25 14.5858 2.25 15V15.0549C2.24998 16.4225 2.24996 17.5248 2.36652 18.3918C2.48754 19.2919 2.74643 20.0497 3.34835 20.6516C3.95027 21.2536 4.70814 21.5125 5.60825 21.6335C6.47522 21.75 7.57754 21.75 8.94513 21.75H15.0549C16.4225 21.75 17.5248 21.75 18.3918 21.6335C19.2919 21.5125 20.0497 21.2536 20.6516 20.6516C21.2536 20.0497 21.5125 19.2919 21.6335 18.3918C21.75 17.5248 21.75 16.4225 21.75 15.0549V15C21.75 14.5858 21.4142 14.25 21 14.25C20.5858 14.25 20.25 14.5858 20.25 15C20.25 16.4354 20.2484 17.4365 20.1469 18.1919C20.0482 18.9257 19.8678 19.3142 19.591 19.591C19.3142 19.8678 18.9257 20.0482 18.1919 20.1469C17.4365 20.2484 16.4354 20.25 15 20.25H9C7.56459 20.25 6.56347 20.2484 5.80812 20.1469C5.07435 20.0482 4.68577 19.8678 4.40901 19.591C4.13225 19.3142 3.9518 18.9257 3.85315 18.1919C3.75159 17.4365 3.75 16.4354 3.75 15Z",fill:"currentColor"})],-1)),$(" "+l(t.$t("events_page.import")),1)])):d("",!0)]),e("div",null,[c(y).can("create events")?(n(),a("button",{key:0,type:"button",class:"btn btn-primary",onClick:s[0]||(s[0]=o=>z())},[s[15]||(s[15]=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 ltr:mr-2 rtl:ml-2"},[e("path",{d:"M15.2869 3.15178L14.3601 4.07866L5.83882 12.5999L5.83881 12.5999C5.26166 13.1771 4.97308 13.4656 4.7249 13.7838C4.43213 14.1592 4.18114 14.5653 3.97634 14.995C3.80273 15.3593 3.67368 15.7465 3.41556 16.5208L2.32181 19.8021L2.05445 20.6042C1.92743 20.9852 2.0266 21.4053 2.31063 21.6894C2.59466 21.9734 3.01478 22.0726 3.39584 21.9456L4.19792 21.6782L7.47918 20.5844L7.47919 20.5844C8.25352 20.3263 8.6407 20.1973 9.00498 20.0237C9.43469 19.8189 9.84082 19.5679 10.2162 19.2751C10.5344 19.0269 10.8229 18.7383 11.4001 18.1612L11.4001 18.1612L19.9213 9.63993L20.8482 8.71306C22.3839 7.17735 22.3839 4.68748 20.8482 3.15178C19.3125 1.61607 16.8226 1.61607 15.2869 3.15178Z",stroke:"currentColor","stroke-width":"1.5"}),e("path",{opacity:"0.5",d:"M14.36 4.07812C14.36 4.07812 14.4759 6.04774 16.2138 7.78564C17.9517 9.52354 19.9213 9.6394 19.9213 9.6394M4.19792 21.6777L2.32178 19.8015",stroke:"currentColor","stroke-width":"1.5"})],-1)),$(" "+l(t.$t("events_page.create_event")),1)])):d("",!0)]),e("div",null,[e("button",{type:"button",class:I(["btn btn-outline-primary p-2",{"bg-primary text-white":C.value==="list"}]),onClick:s[1]||(s[1]=o=>C.value="list")},[...s[16]||(s[16]=[Z('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"><path d="M2 5.5L3.21429 7L7.5 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path opacity="0.5" d="M2 12.5L3.21429 14L7.5 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 19.5L3.21429 21L7.5 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 19L12 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path opacity="0.5" d="M22 12L12 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M22 5L12 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',1)])],2)]),e("div",null,[e("button",{type:"button",class:I(["btn btn-outline-primary p-2",{"bg-primary text-white":C.value==="grid"}]),onClick:s[2]||(s[2]=o=>C.value="grid")},[...s[17]||(s[17]=[Z('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5"><path opacity="0.5" d="M2.5 6.5C2.5 4.61438 2.5 3.67157 3.08579 3.08579C3.67157 2.5 4.61438 2.5 6.5 2.5C8.38562 2.5 9.32843 2.5 9.91421 3.08579C10.5 3.67157 10.5 4.61438 10.5 6.5C10.5 8.38562 10.5 9.32843 9.91421 9.91421C9.32843 10.5 8.38562 10.5 6.5 10.5C4.61438 10.5 3.67157 10.5 3.08579 9.91421C2.5 9.32843 2.5 8.38562 2.5 6.5Z" stroke="currentColor" stroke-width="1.5"></path><path opacity="0.5" d="M13.5 17.5C13.5 15.6144 13.5 14.6716 14.0858 14.0858C14.6716 13.5 15.6144 13.5 17.5 13.5C19.3856 13.5 20.3284 13.5 20.9142 14.0858C21.5 14.6716 21.5 15.6144 21.5 17.5C21.5 19.3856 21.5 20.3284 20.9142 20.9142C20.3284 21.5 19.3856 21.5 17.5 21.5C15.6144 21.5 14.6716 21.5 14.0858 20.9142C13.5 20.3284 13.5 19.3856 13.5 17.5Z" stroke="currentColor" stroke-width="1.5"></path><path d="M2.5 17.5C2.5 15.6144 2.5 14.6716 3.08579 14.0858C3.67157 13.5 4.61438 13.5 6.5 13.5C8.38562 13.5 9.32843 13.5 9.91421 14.0858C10.5 14.6716 10.5 15.6144 10.5 17.5C10.5 19.3856 10.5 20.3284 9.91421 20.9142C9.32843 21.5 8.38562 21.5 6.5 21.5C4.61438 21.5 3.67157 21.5 3.08579 20.9142C2.5 20.3284 2.5 19.3856 2.5 17.5Z" stroke="currentColor" stroke-width="1.5"></path><path d="M13.5 6.5C13.5 4.61438 13.5 3.67157 14.0858 3.08579C14.6716 2.5 15.6144 2.5 17.5 2.5C19.3856 2.5 20.3284 2.5 20.9142 3.08579C21.5 3.67157 21.5 4.61438 21.5 6.5C21.5 8.38562 21.5 9.32843 20.9142 9.91421C20.3284 10.5 19.3856 10.5 17.5 10.5C15.6144 10.5 14.6716 10.5 14.0858 9.91421C13.5 9.32843 13.5 8.38562 13.5 6.5Z" stroke="currentColor" stroke-width="1.5"></path></svg>',1)])],2)])]),e("div",Ce,[k(e("input",{type:"text",placeholder:t.$t("events_page.search_placeholder"),class:"form-input py-2 ltr:pr-11 rtl:pl-11 peer","onUpdate:modelValue":s[3]||(s[3]=o=>U.value=o),onKeyup:ae},null,40,xe),[[B,U.value]]),s[18]||(s[18]=e("div",{class:"absolute ltr:right-[11px] rtl:left-[11px] top-1/2 -translate-y-1/2 peer-focus:text-primary"},[e("svg",{class:"mx-auto",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"11.5",cy:"11.5",r:"9.5",stroke:"currentColor","stroke-width":"1.5",opacity:"0.5"}),e("path",{d:"M18.5 18.5L22 22",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})])],-1))])])]),m.value?(n(),a("div",$e,[s[19]||(s[19]=e("i",{class:"ri-error-warning-line me-2"},null,-1)),$(" "+l(m.value)+" ",1),e("button",{type:"button",class:"btn-close",onClick:s[4]||(s[4]=o=>m.value="")})])):d("",!0),M.value?(n(),a("div",Le,[s[20]||(s[20]=e("i",{class:"ri-checkbox-circle-line me-2"},null,-1)),$(" "+l(M.value)+" ",1),e("button",{type:"button",class:"btn-close",onClick:s[5]||(s[5]=o=>M.value="")})])):d("",!0),e("div",Me,[C.value==="list"?(n(),a("div",Be,[e("table",je,[e("thead",null,[e("tr",null,[e("th",null,l(t.$t("events_page.title")),1),e("th",null,l(t.$t("events_page.description")),1),e("th",null,l(t.$t("events_page.start")),1),e("th",null,l(t.$t("events_page.end")),1),e("th",null,l(t.$t("events_page.type")),1),e("th",null,l(t.$t("events_page.created_by")),1),e("th",Ee,l(t.$t("events_page.actions")),1)])]),e("tbody",null,[E.value?(n(),a("tr",Se,[...s[21]||(s[21]=[e("td",{colspan:"7",class:"text-center py-4"},[e("div",{class:"animate-spin border-2 border-primary border-t-transparent rounded-full w-6 h-6 mx-auto"})],-1)])])):(n(!0),a(N,{key:1},A(H.value,o=>(n(),a("tr",{key:o.id},[e("td",null,[e("div",Ve,[e("div",Ue,l(o.title),1)])]),e("td",null,l(o.description||t.$t("events_page.no_description")),1),e("td",null,l(T(o.start)),1),e("td",null,l(T(o.end)),1),e("td",null,[e("span",{class:I(["badge",Y(o.type)])},l(J(o.type)),3)]),e("td",null,l(o.user?o.user.name:t.$t("events_page.not_available")),1),e("td",null,[e("div",Te,[c(y).can("edit events")&&x(o)?(n(),a("button",{key:0,type:"button",class:"btn btn-sm btn-outline-primary",onClick:i=>z(o)},l(t.$t("events_page.edit")),9,De)):d("",!0),c(y).can("delete events")&&x(o)?(n(),a("button",{key:1,type:"button",class:"btn btn-sm btn-outline-danger",onClick:i=>K(o)},l(t.$t("events_page.delete")),9,Ie)):d("",!0),x(o)?d("",!0):(n(),a("span",Fe,l(t.$t("events_page.read_only")),1))])])]))),128))])])])):d("",!0)]),C.value==="grid"?(n(),a("div",Re,[E.value?(n(),a(N,{key:0},A(4,o=>e("div",{key:"skeleton-"+o,class:"bg-white dark:bg-[#1c232f] rounded-md overflow-hidden text-center shadow relative h-80"},[...s[22]||(s[22]=[Z('<div class="animate-pulse h-full flex flex-col"><div class="bg-gray-300 h-4 mt-4 mx-4 rounded"></div><div class="bg-gray-300 h-3 mt-2 mx-4 rounded"></div><div class="bg-gray-300 h-20 mt-4 mx-4 rounded"></div><div class="p-4 flex-1 flex flex-col justify-between"><div class="space-y-2"><div class="h-3 bg-gray-300 rounded"></div><div class="h-3 bg-gray-300 rounded"></div></div><div class="flex gap-2 mt-4"><div class="h-8 bg-gray-300 rounded flex-1"></div><div class="h-8 bg-gray-300 rounded flex-1"></div></div></div></div>',1)])])),64)):(n(!0),a(N,{key:1},A(H.value,o=>(n(),a("div",{key:o.id,class:"bg-white dark:bg-[#1c232f] rounded-md overflow-hidden text-center shadow relative"},[e("div",qe,[e("div",ze,[e("span",{class:I(["badge",Y(o.type)])},l(J(o.type)),3),e("span",Oe,l(o.user?o.user.name:t.$t("events_page.not_available")),1)]),e("div",Ze,l(o.title),1),e("div",Ne,l(o.description||t.$t("events_page.no_description")),1)]),e("div",Ae,[e("div",He,[e("div",Ge,[s[23]||(s[23]=e("div",{class:"flex-none ltr:mr-2 rtl:ml-2"},[e("svg",{class:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ke,l(T(o.start)),1)]),e("div",Pe,[s[24]||(s[24]=e("div",{class:"flex-none ltr:mr-2 rtl:ml-2"},[e("svg",{class:"w-4 h-4 text-danger",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ye,l(T(o.end)),1)])])]),e("div",Je,[c(y).can("edit events")&&x(o)?(n(),a("button",{key:0,type:"button",class:"btn btn-outline-primary w-1/2",onClick:i=>z(o)},l(t.$t("events_page.edit")),9,Qe)):d("",!0),c(y).can("delete events")&&x(o)?(n(),a("button",{key:1,type:"button",class:"btn btn-outline-danger w-1/2",onClick:i=>K(o)},l(t.$t("events_page.delete")),9,We)):d("",!0),x(o)?d("",!0):(n(),a("div",Xe,l(t.$t("events_page.read_only")),1))])]))),128))])):d("",!0),g(c(le),{appear:"",show:j.value,as:"template"},{default:_(()=>[g(c(te),{as:"div",onClose:O,class:"relative z-[51]"},{default:_(()=>[g(c(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[g(c(se),{class:"fixed inset-0 bg-[black]/60"})]),_:1}),e("div",et,[e("div",tt,[g(c(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[g(c(oe),{class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark"},{default:_(()=>[e("button",{type:"button",class:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",onClick:O},[...s[25]||(s[25]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])]),e("div",st,l(u.value.id?t.$t("events_page.edit_event"):t.$t("events_page.create_event")),1),e("div",ot,[e("form",{onSubmit:X(ne,["prevent"])},[e("div",lt,[e("label",at,l(t.$t("events_page.title"))+" *",1),k(e("input",{id:"title",type:"text",placeholder:t.$t("events_page.enter_title"),class:"form-input","onUpdate:modelValue":s[6]||(s[6]=o=>u.value.title=o),required:""},null,8,nt),[[B,u.value.title]]),p.value.title?(n(),a("div",rt,l(p.value.title[0]),1)):d("",!0)]),e("div",it,[e("label",dt,l(t.$t("events_page.description")),1),k(e("textarea",{id:"description",placeholder:t.$t("events_page.enter_description"),class:"form-input","onUpdate:modelValue":s[7]||(s[7]=o=>u.value.description=o),rows:"3"},null,8,pt),[[B,u.value.description]]),p.value.description?(n(),a("div",ut,l(p.value.description[0]),1)):d("",!0)]),e("div",ct,[e("div",null,[e("label",vt,l(t.$t("events_page.start_datetime"))+" *",1),k(e("input",{id:"start",type:"datetime-local",class:"form-input","onUpdate:modelValue":s[8]||(s[8]=o=>u.value.start=o),required:""},null,512),[[B,u.value.start]]),p.value.start?(n(),a("div",mt,l(p.value.start[0]),1)):d("",!0)]),e("div",null,[e("label",gt,l(t.$t("events_page.end_datetime"))+" *",1),k(e("input",{id:"end",type:"datetime-local",class:"form-input","onUpdate:modelValue":s[9]||(s[9]=o=>u.value.end=o),required:""},null,512),[[B,u.value.end]]),p.value.end?(n(),a("div",ft,l(p.value.end[0]),1)):d("",!0)])]),e("div",ht,[e("label",_t,l(t.$t("events_page.type"))+" *",1),k(e("select",{id:"type",class:"form-select","onUpdate:modelValue":s[10]||(s[10]=o=>u.value.type=o),required:""},[e("option",yt,l(t.$t("events_page.type_primary")),1),e("option",bt,l(t.$t("events_page.type_info")),1),e("option",wt,l(t.$t("events_page.type_success")),1),e("option",kt,l(t.$t("events_page.type_danger")),1)],512),[[me,u.value.type]]),p.value.type?(n(),a("div",Ct,l(p.value.type[0]),1)):d("",!0)]),e("div",xt,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:O},l(t.$t("events_page.cancel")),1),e("button",{type:"submit",class:"btn btn-primary ltr:ml-4 rtl:mr-4",disabled:S.value},[S.value?(n(),a("span",Lt)):d("",!0),$(" "+l(u.value.id?t.$t("events_page.update"):t.$t("events_page.create")),1)],8,$t)])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),g(c(le),{appear:"",show:R.value,as:"template"},{default:_(()=>[g(c(te),{as:"div",onClose:D,class:"relative z-[51]"},{default:_(()=>[g(c(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[g(c(se),{class:"fixed inset-0 bg-[black]/60"})]),_:1}),e("div",Mt,[e("div",Bt,[g(c(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[g(c(oe),{class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark"},{default:_(()=>[e("button",{type:"button",class:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",onClick:D},[...s[26]||(s[26]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])]),e("div",jt,l(t.$t("events_page.import_events")),1),e("div",Et,[e("form",{onSubmit:X(ie,["prevent"])},[e("div",St,[e("label",Vt,l(t.$t("events_page.file"))+" *",1),e("input",{id:"file",type:"file",class:"form-input p-2",accept:".csv,.xlsx,.xls",onChange:re,required:""},null,32),e("div",Ut,l(t.$t("events_page.supported_formats")),1),p.value.file?(n(),a("div",Tt,l(p.value.file[0]),1)):d("",!0)]),e("div",Dt,[e("label",It,[k(e("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":s[11]||(s[11]=o=>b.value.overwrite=o)},null,512),[[ge,b.value.overwrite]]),e("span",Ft,l(t.$t("events_page.overwrite_existing")),1)]),e("div",Rt,l(t.$t("events_page.overwrite_description")),1)]),e("div",qt,[e("h4",zt,l(t.$t("events_page.template_info")),1),e("p",Ot,l(t.$t("events_page.template_instructions")),1),e("div",Zt,[e("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:s[12]||(s[12]=o=>P("csv"))},l(t.$t("events_page.download_csv")),1),e("button",{type:"button",class:"btn btn-outline-info btn-sm",onClick:s[13]||(s[13]=o=>P("xlsx"))},l(t.$t("events_page.download_excel")),1)])]),t.selectedFile?(n(),a("div",Nt,[e("div",At,[e("div",Ht,[s[27]||(s[27]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"ltr:mr-2 rtl:ml-2 text-primary"},[e("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),e("polyline",{points:"13 2 13 9 20 9"})],-1)),e("div",null,[e("div",Gt,l(t.selectedFile.name),1),e("div",Kt,l((t.selectedFile.size/1024).toFixed(2))+" KB ",1)])]),e("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:de},l(t.$t("events_page.remove")),1)])])):d("",!0),e("div",Pt,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:D},l(t.$t("events_page.cancel")),1),e("button",{type:"submit",class:"btn btn-primary ltr:ml-4 rtl:mr-4",disabled:V.value},[V.value?(n(),a("span",Jt)):d("",!0),$(" "+l(t.$t("events_page.import")),1)],8,Yt)])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))}});export{ns as default};
