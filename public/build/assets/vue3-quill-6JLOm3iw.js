import{Q as f}from"./quill-De1S0mUZ.js";import{_ as m}from"./main-BAFY6qcF.js";import{k as q,l as p,w as r,r as b,O as h,o as g,b as _}from"./vendor-CjqaLWPm.js";const O={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert content here ...",readOnly:!1},y={name:"quill-editor",props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:()=>({})}},emits:["ready","change","input","blur","focus","update:value"],setup(i,o){const l={editorOption:{},quill:null};let n="";r(()=>i.value,e=>{l.quill&&(e&&e!==n?(n=e,l.quill.pasteHTML(e)):e||l.quill.setText(""))}),r(()=>i.content,e=>{l.quill&&(e&&e!==n?(n=e,l.quill.pasteHTML(e)):e||l.quill.setText(""))}),r(()=>i.disabled,e=>{l.quill&&l.quill.enable(!e)});const a=b(null),s=(e,u)=>{for(const t in u)!e[t]||t!=="modules"?e[t]=u[t]:s(e[t],u[t]);return e},c=()=>{a.value&&(l.editorOption=s(O,i.options),l.editorOption.readOnly=!!i.disabled,l.quill=new f(a.value,l.editorOption),i.value&&l.quill.pasteHTML(i.value),l.quill.on("selection-change",e=>{e?o.emit("focus",l.quill):o.emit("blur",l.quill)}),l.quill.on("text-change",()=>{i.disabled&&l.quill.enable(!1);let e=a.value.children[0].innerHTML;const u=l.quill,t=l.quill.getText();e==="<p><br></p>"&&(e=""),n=e,o.emit("update:value",n),o.emit("change",{html:e,text:t,quill:u})}),o.emit("ready",l.quill))};return h(()=>{const e=a.value.previousSibling;e&&e.nodeType===1&&e.className.indexOf("ql-toolbar")>-1&&e.parentNode.removeChild(e)}),g(()=>{c()}),_(()=>{l.quill=null}),{editor:a}}},k={ref:"editor"};function T(i,o,l,n,a,s){return p(),q("section",k,null,512)}const d=m(y,[["render",T]]);d.install=function(i){i.component(d.name,d)};export{d as q};
